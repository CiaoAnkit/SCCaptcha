<!DOCTYPE html>
<html>

<head>
    <meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.7.45">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/indexstyle.css') }}">
    <title>ReCap task 1</title>
    <script>
        // JavaScript to get device width and height
        var width = window.innerWidth ||
            document.documentElement.clientWidth ||
            document.body.clientWidth;

        var height = window.innerHeight ||
            document.documentElement.clientHeight ||
            document.body.clientHeight;

        var user_id = JSON.parse('{{user_id}}')

        // Function to send width and height to Flask server
        function sendDeviceInfo() {
            fetch('coordinates', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    gc_width: width,
                    gc_height: height,
                    user_id: user_id
                })
            })
                .then(response => {

                    window.location.href = response.url;
                })
                .catch(error => {
                    // Handle error
                    console.error('Error sending device information:', error);
                });
        }
    </script>
</head>

<body>
    <div class="middle">
        <h1>Move Ball to the correctly aligned Image</h1>
        <hr>
        <p id="demo" style="font-size:30px"></p>
        </form>

        <h3>Device Information</h3>
        <p>Width: <span id="widthDisplay"></span></p>
        <p>Height: <span id="heightDisplay"></span></p>
        <button onclick="sendDeviceInfo()">Send Device Info</button>
    </div>

    <script>
        // Display width and height on the page
        document.getElementById('widthDisplay').innerText = width;
        document.getElementById('heightDisplay').innerText = height;
    </script>
</body>

</html>